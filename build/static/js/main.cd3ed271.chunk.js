(this["webpackJsonpreact-dashboard"]=this["webpackJsonpreact-dashboard"]||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"regionToId":{"spain":"0","avila":"1","cadiz":"2","valencia":"3","madrid":"4","cantabria":"5","bizkaia":"6","asturias":"7","las_palmas":"8","pontevedra":"9","jaen":"10","guadalajara":"11","illes_baleares":"12","navarra":"13","granada":"14","la_rioja":"15","a_coru\xf1a":"16","teruel":"17","zaragoza":"18","badajoz":"19","huesca":"20","araba":"21","girona":"22","alacant":"23","murcia":"24","segovia":"25","zamora":"26","palencia":"27","albacete":"28","caceres":"29","ciudad_real":"30","lleida":"31","malaga":"32","lugo":"33","barcelona":"34","cuenca":"35","soria":"36","toledo":"37","castello":"38","huelva":"39","santa_cruz_de_tenerife":"40","almeria":"41","ourense":"42","tarragona":"43","cordoba":"44","leon":"45","burgos":"46","gipuzcoa":"47","salamanca":"48","melilla":"49","sevilla":"50","valladolid":"51","ceuta":"52"},"regionToLatLng":{"avila":{"lat":40.5710367492,"lng":-4.94553505619},"cadiz":{"lat":36.5538729195,"lng":-5.7604183752},"valencia":{"lat":39.3702562375,"lng":-0.800789615081},"madrid":{"lat":40.4950873744,"lng":-3.71704619215},"cantabria":{"lat":43.1975220484,"lng":-4.03002122038},"bizkaia":{"lat":43.2376797057,"lng":-2.85260007926},"asturias":{"lat":43.292357861,"lng":-5.99350932547},"las_palmas":{"lat":28.3624928216,"lng":-14.5509933924},"pontevedra":{"lat":42.435764706,"lng":-8.46106294738},"jaen":{"lat":38.0165122783,"lng":-3.44169215171},"guadalajara":{"lat":40.8134495654,"lng":-2.62368878371},"illes_baleares":{"lat":39.5751889864,"lng":2.91229172079},"navarra":{"lat":42.6672011509,"lng":-1.64611414443},"granada":{"lat":37.3125169672,"lng":-3.26788107732},"la_rioja":{"lat":42.2748706958,"lng":-2.5170441194},"a_coru\xf1a":{"lat":43.1257958229,"lng":-8.4642836868},"teruel":{"lat":40.6612619615,"lng":-0.815532258446},"zaragoza":{"lat":41.6203648019,"lng":-1.06449678144},"badajoz":{"lat":38.7097707381,"lng":-6.14158521981},"huesca":{"lat":42.2030557371,"lng":-0.0728865943582},"araba":{"lat":42.8351264353,"lng":-2.72060346921},"girona":{"lat":42.1280117119,"lng":2.6735559327},"alacant":{"lat":38.4786378049,"lng":-0.568699068376},"murcia":{"lat":38.0023681653,"lng":-1.48575629332},"segovia":{"lat":41.1710254065,"lng":-4.05415057783},"zamora":{"lat":41.7271743961,"lng":-5.98053925522},"palencia":{"lat":42.3718338546,"lng":-4.53585717538},"albacete":{"lat":38.8254086192,"lng":-1.98037326935},"caceres":{"lat":39.7118899607,"lng":-6.16082194997},"ciudad_real":{"lat":38.9256128254,"lng":-3.82809764894},"lleida":{"lat":42.0439686698,"lng":1.04798206104},"malaga":{"lat":36.8138591651,"lng":-4.72586195603},"lugo":{"lat":43.011764,"lng":-7.44638404764},"barcelona":{"lat":41.7310008895,"lng":1.98405401772},"cuenca":{"lat":39.8960496846,"lng":-2.19567153274},"soria":{"lat":41.6207742504,"lng":-2.58874304739},"toledo":{"lat":39.7937341614,"lng":-4.14815562595},"castello":{"lat":40.2413705852,"lng":-0.146777086937},"huelva":{"lat":37.5771794021,"lng":-6.82930221031},"santa_cruz_de_tenerife":{"lat":28.3125567678,"lng":-17.017856743},"almeria":{"lat":37.1960852121,"lng":-2.3448128003},"ourense":{"lat":42.1964503002,"lng":-7.59259790937},"tarragona":{"lat":41.0876143957,"lng":0.818127863314},"cordoba":{"lat":37.9926944409,"lng":-4.80926161095},"leon":{"lat":42.6199552439,"lng":-5.83988102629},"burgos":{"lat":42.3687127267,"lng":-3.58574245567},"gipuzcoa":{"lat":43.1437759117,"lng":-2.19417845709},"salamanca":{"lat":40.8049892162,"lng":-6.06541224773},"melilla":{"lat":35.2908279949,"lng":-2.95053552337},"sevilla":{"lat":37.4356699135,"lng":-5.68277303032},"valladolid":{"lat":41.6341260695,"lng":-4.84719141141},"ceuta":{"lat":35.8934069863,"lng":-5.34342403891}},"categories":{"regions":["avila","cadiz","valencia","madrid","cantabria","bizkaia","asturias","las_palmas","pontevedra","jaen","guadalajara","illes_baleares","navarra","granada","la_rioja","a_coru\xf1a","teruel","zaragoza","badajoz","huesca","araba","girona","alacant","murcia","segovia","zamora","palencia","albacete","caceres","ciudad_real","lleida","malaga","lugo","barcelona","cuenca","soria","toledo","castello","huelva","santa_cruz_de_tenerife","almeria","ourense","tarragona","cordoba","leon","burgos","gipuzcoa","salamanca","melilla","sevilla","valladolid","ceuta"],"types":["maltrato","retraso","impago"],"professions":["artes_escenicas","dise\xf1o_arquitectura","fotografia","artes_plasticas","traduccion","gestion_cultural"],"genders":["femenino","masculino","no_binario"],"ageRanges":["r18_20","r21_29","r30_39","r40_49","r50_59","r60_plus"],"experiences":["r1_2","r3_5","r5_10","r10_20","r20_plus"]},"regionToRegionRenderName":{"spain":"Espa\xf1a","avila":"\xc1vila","cadiz":"C\xe1diz","valencia":"Val\xe8ncia","madrid":"Madrid","cantabria":"Cantabria","bizkaia":"Bizkaia","asturias":"Asturias","las_palmas":"Las Palmas","pontevedra":"Pontevedra","jaen":"Ja\xe9n","guadalajara":"Guadalajara","illes_baleares":"Illes Balears","navarra":"Navarra","granada":"Granada","la_rioja":"La Rioja","a_coru\xf1a":"A Coru\xf1a","teruel":"Teruel","zaragoza":"Zaragoza","badajoz":"Badajoz","huesca":"Huesca","araba":"Araba","girona":"Girona","alacant":"Alacant","murcia":"Murcia","segovia":"Segovia","zamora":"Zamora","palencia":"Palencia","albacete":"Albacete","caceres":"C\xe1ceres","ciudad_real":"Ciudad Real","lleida":"Lleida","malaga":"M\xe1laga","lugo":"Lugo","barcelona":"Barcelona","cuenca":"Cuenca","soria":"Soria","toledo":"Toledo","castello":"Castell\xf3","huelva":"Huelva","santa_cruz_de_tenerife":"Santa Cruz de Tenerife","almeria":"Almer\xeda","ourense":"Ourense","tarragona":"Tarragona","cordoba":"C\xf3rdoba","leon":"Le\xf3n","burgos":"Burgos","gipuzcoa":"Gipuzcoa","salamanca":"Salamanca","melilla":"Melilla","sevilla":"Sevilla","valladolid":"Valladolid","ceuta":"Ceuta"},"typeToTypeRenderName":{"maltrato":"Maltrato","retraso":"Retraso","impago":"Impago"},"professionToProfessionRenderName":{"artes_escenicas":"Artes esc\xe9nicas","dise\xf1o_arquitectura":"Dise\xf1o y Arquitectura","fotografia":"Fotograf\xeda","artes_plasticas":"Artes pl\xe1sticas","traduccion":"Traducci\xf3n","gestion_cultural":"Gesti\xf3n cultural"},"genderToGenderRenderName":{"femenino":"Femenino","masculino":"Masculino","no_binario":"No binario"},"ageRangeToAgeRangeRenderName":{"r18_20":"18 a 20 a\xf1os","r21_29":"21 a 29 a\xf1os","r30_39":"30 a 39 a\xf1os","r40_49":"40 a 49 a\xf1os","r50_59":"50 a 59 a\xf1os","r60_plus":"M\xe1s de 60 a\xf1os"},"experienceToExperienceRenderName":{"r1_2":"De 0 a 2 a\xf1os","r3_5":"De 3 a 5 a\xf1os","r5_10":"De 5 a 10 a\xf1os","r10_20":"De 10 a 20 a\xf1os","r20_plus":"M\xe1s de 20 a\xf1os"},"markersByType":{"maltrato":{"iconUrl":"./assets/punteroMapa.png","iconSize":[30,30],"iconAnchor":[15,30],"popupAnchor":[-3,-76]},"retraso":{"iconUrl":"./assets/punteroMapa.png","iconSize":[30,30],"iconAnchor":[15,30],"popupAnchor":[-3,-76]},"impago":{"iconUrl":"./assets/punteroMapa.png","iconSize":[30,30],"iconAnchor":[15,30],"popupAnchor":[-3,-76]}},"chipColors":{"maltrato":"#FF8820","retraso":"#1693BE","impago":"#FF132C"}}')},337:function(e,a){},512:function(e){e.exports=JSON.parse('{"gql":{"localhost":"http://localhost:4000/","production":"https://api-observatorio.p2pmodels.eu","theGraphDev":"https://api.studio.thegraph.com/query/290/dbadge/v0.0.4"}}')},595:function(e,a,t){},602:function(e,a,t){},750:function(e,a){},752:function(e,a){},795:function(e,a){},797:function(e,a){},829:function(e,a){},831:function(e,a){},832:function(e,a){},837:function(e,a){},839:function(e,a){},845:function(e,a){},847:function(e,a){},866:function(e,a){},878:function(e,a){},881:function(e,a){},936:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(25),o=t.n(i),c=(t(595),t(12)),s=t(10),l=t(161),d=t(56),m=t(155),u=t(1),j=[{content:Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"./assets/ico-logo.svg"}),Object(u.jsx)("h4",{children:"Bienvenida/o al"}),Object(u.jsx)("h2",{children:"Observatorio de la Precariedad en el Sector Cultural"}),Object(u.jsx)("p",{children:"Aqu\xed podr\xe1s encontrar denuncias an\xf3nimas a irregularidades respecto a pagos de empresas espa\xf1olas a trabajadoras/es del sector cultural agrupadas por Comunidades Aut\xf3nomas."}),Object(u.jsx)("p",{children:"Esta iniciativa pretende mostrar cu\xe1l es la realidad del sector cultural en Espa\xf1a y convertirse en un espacio de autodefensa y apoyo mutuo para profesionales aut\xf3nomos"}),Object(u.jsx)("p",{children:"\u270a\ud83c\udffb \u270a\ud83c\udffe \u270a\ud83c\udfff"})]}),locale:{skip:Object(u.jsx)("strong",{"aria-label":"skip",children:"Cerrar"}),next:"Siguiente",back:"Atr\xe1s",last:"Fin"},styles:{options:{arrowColor:"#202020",backgroundColor:"#202020 ",textColor:"#FFFFFF",width:450}},placement:"center",disableBeacon:!0,target:"body"},{content:Object(u.jsx)("p",{children:"Haciendo click en los puntos del mapa podr\xe1s ver el n\xfamero de denuncias que profesionales como t\xfa han emitido contra empresas que han incurrido en irregularidades en sus contratos o pagos."}),floaterProps:{disableAnimation:!0},styles:{options:{arrowColor:"#202020",backgroundColor:"#202020 ",textColor:"#FFFFFF"}},locale:{skip:Object(u.jsx)("strong",{"aria-label":"skip",children:"Cerrar"}),next:"Siguiente",back:"Atr\xe1s"},spotlightPadding:200,target:".map div",title:"Mapa interactivo",scrollOffset:0},{content:Object(u.jsx)("p",{children:"Aqu\xed podr\xe1s ver los datos que estamos recogiendo de las denuncias realizadas por tipo de abuso, profesi\xf3n, g\xe9nero o edad."}),placement:"top",scrollOffset:50,styles:{options:{arrowColor:"#202020",width:300,backgroundColor:"#202020 ",textColor:"#FFFFFF"}},locale:{skip:Object(u.jsx)("strong",{"aria-label":"skip",children:"Cerrar"}),next:"Siguiente",back:"Atr\xe1s"},target:".map + .MuiContainer-root div",title:"Panel de datos"},{content:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Desde estos enlaces podr\xe1s obtener informaci\xf3n o reportar tu caso mediante un formulario para incorporarlo a nuestra base de datos. Al finalizar el proceso, tendr\xe1s acceso a otras personas an\xf3nimas que se han encontrado en la misma situaci\xf3n que t\xfa para contactarls y que te aconsejen."}),Object(u.jsx)("p",{children:"Tambi\xe9n encontrar\xe1s algunas entidades que pueden ayudarte"})]}),placement:"bottom",locale:{skip:Object(u.jsx)("strong",{"aria-label":"skip",children:"Cerrar"}),next:"Siguiente",back:"Atr\xe1s",last:"Fin"},styles:{options:{arrowColor:"#202020",backgroundColor:"#202020 ",textColor:"#FFFFFF"}},target:".report div",title:"Cu\xe9ntanos tu caso"}],b=(t(602),t(1037)),p=Object(n.createContext)();function g(e){var a=e.children,t=function(){var e=Object(n.useState)("spain"),a=Object(s.a)(e,2);return{region:a[0],setRegion:a[1]}}();return Object(u.jsx)(p.Provider,{value:t,children:a})}var h=Object(n.createContext)(),x="Commons ";function O(){function e(){var e=sessionStorage.getItem("user"),a=JSON.parse(e);return a||null}function a(){var e=sessionStorage.getItem("token");return e||null}var t=Object(n.useState)(e()),r=Object(s.a)(t,2),i=r[0],o=r[1],c=Object(n.useState)(a()),l=Object(s.a)(c,2),d=l[0],m=l[1];return{user:i,token:d,setAuth:function(t){!function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;a?sessionStorage.setItem("user",JSON.stringify(a)):sessionStorage.removeItem("user"),o(e())}(t.user),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e?sessionStorage.setItem("token",x+e):sessionStorage.removeItem("token"),m(a())}(t.token)}}}function f(e){var a=e.children,t=O();return Object(u.jsx)(h.Provider,{value:t,children:a})}var v=t(550),y=t(1039),N=t(1042),C=t(988),T=t(512);var S=function(e){var a=e.children,t=Object(v.a)({uri:T.gql.production}),n=new y.a({link:t,cache:new N.a});return Object(u.jsx)(C.a,{client:n,children:a})},R=t(991),k=t(1012),z=t(4),A=t(75),w=t(283),B=t(992),I=t(1054),D=t(1041),E=t(33),F=["component","variant","color","gutterBottom","type"];function q(e){var a=e.component,t=e.variant,n=e.color,r=e.gutterBottom,i=(e.type,Object(E.a)(e,F));return Object(u.jsx)(w.a,Object(c.a)(Object(c.a)({component:a||(t||"h2"),variant:t||(a||"h2"),color:n||"primary",gutterBottom:r||!1},i),{},{children:e.children}))}var _=t(993),P=t(994),W=t(531),G=t(532),H=t(552),M=t(268),U=t(554),J=t(19);function V(e){var a="";return Object.keys(J.regionToRegionRenderName).map((function(t){J.regionToRegionRenderName[t]===e&&(a=t)})),a}function K(e){var a="";return Object.keys(J.typeToTypeRenderName).map((function(t){J.typeToTypeRenderName[t]===e&&(a=t)})),a}function Q(e){var a="";return Object.keys(J.professionToProfessionRenderName).map((function(t){J.professionToProfessionRenderName[t]===e&&(a=t)})),a}function Z(e){var a="";return Object.keys(J.genderToGenderRenderName).map((function(t){J.genderToGenderRenderName[t]===e&&(a=t)})),a}function Y(e){var a="";return Object.keys(J.ageRangeToAgeRangeRenderName).map((function(t){J.ageRangeToAgeRangeRenderName[t]===e&&(a=t)})),a}function X(e){var a="";return Object.keys(J.experienceToExperienceRenderName).map((function(t){J.experienceToExperienceRenderName[t]===e&&(a=t)})),a}function $(e,a,t){for(var n=[],r=0;r<e.length;r++)n.push({key:e[r],value:+a[r],name:t[e[r]]});return n}function ee(e,a){for(var t=[],n=0;n<e.length;n++)t.push({value:e[n],label:a[e[n]]});return t}function ae(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=[],n=function(e,a){return e+a},r=e.reduce(n);return e.map((function(e){t.push((100*e/r).toFixed(a))})),t}function te(e,a){var t=[];return e.map((function(e){""!=e.region&&e.region===a&&t.push(e)})),t}var ne=["keys","values","labels"],re=Object(R.a)((function(e){return{chartContainer:{height:"100%"},ticksContainer:{"& :first-child":{marginTop:"27px"},"& :last-child":{marginBottom:0}},tick:{display:"block",margin:"0 0 26px",lineHeight:"20px"}}})),ie=function(e,a){var t=e.x,n=e.y,r=e.width,i=e.value;return Object(u.jsx)("g",{children:Object(u.jsx)("text",{x:t+10+r,y:n+15,fill:"red",position:"right",children:"".concat(i,"%")})})};function oe(e){var a=Object(U.a)(),t=re(),n=e.keys,r=e.values,i=e.labels,o=Object(E.a)(e,ne),s=$(n,r,i);return Object(u.jsxs)(B.a,{container:!0,className:t.chartContainer,justify:"center",children:[Object(u.jsx)(B.a,{item:!0,xs:6,children:Object(u.jsx)(_.a,Object(c.a)(Object(c.a)({width:"100%",height:"100%"},o),{},{children:Object(u.jsxs)(P.a,{layout:"vertical",data:s,margin:{top:10,right:60,left:10,bottom:10},barGap:2,children:[Object(u.jsx)(W.a,{type:"number",domain:[0,100],hide:!0}),Object(u.jsx)(G.a,{dataKey:"key",type:"category",hide:!0}),Object(u.jsx)(H.a,{dataKey:"value",barSize:20,fill:a.palette.primary.main,background:{fill:"#E4E4E4"},children:Object(u.jsx)(M.a,{dataKey:"value",content:ie})})]})}))}),Object(u.jsx)(B.a,{item:!0,className:t.ticksContainer,children:s.map((function(e){return Object(u.jsx)(w.a,{component:"span",className:t.tick,children:e.name},e.key+"-tick")}))})]})}var ce=t(1046),se=t(533),le=t(269),de=t(223),me=["keys","values","labels"],ue=["#561314","#F9A49C","#FF5769","#A21212","#616472","#D8D8D8"],je=Math.PI/180,be=function(e){var a=e.cx,t=e.cy,n=e.midAngle,r=e.innerRadius,i=e.outerRadius,o=e.percent,c=e.index,s=r+1.2*(i-r),l=a+s*Math.cos(-n*je)+5,d=t+s*Math.sin(-n*je)+5;return Object(u.jsx)("text",{x:l,y:d,fill:ue[c%ue.length],textAnchor:l>a?"start":"end",dominantBaseline:"central",children:"".concat((100*o).toFixed(0),"%")})};function pe(e){var a=e.keys,t=e.values,n=e.labels,r=Object(E.a)(e,me),i=$(a,t,n);return Object(u.jsx)(_.a,Object(c.a)(Object(c.a)({width:"100%"},r),{},{children:Object(u.jsxs)(ce.a,{children:[Object(u.jsx)(se.a,{data:i,dataKey:"value",cx:"33.3%",cy:"50%",labelLine:!1,label:be,outerRadius:80,fill:"#8884d8",children:i.map((function(e,a){return Object(u.jsx)(le.a,{fill:ue[a%ue.length]},"cell-".concat(a))}))}),Object(u.jsx)(de.a,{align:"right",verticalAlign:"middle",width:"33.3%"})]})}))}var ge=t(1052);function he(e){var a=e.children;return Object(u.jsx)("div",{children:Object(u.jsx)(ge.a,{variant:"text",children:a})})}function xe(){return Object(n.useContext)(p)}var Oe,fe,ve,ye=t(1049),Ne=t(58),Ce=t(1040),Te=Object(Ce.a)(Oe||(Oe=Object(Ne.a)(["\n    query GetCases {\n        cases {\n            id\n            companyName\n            caseType\n            description\n            region\n            profession\n            gender\n            ageRange\n            experience\n        }\n    }\n"]))),Se=Object(Ce.a)(fe||(fe=Object(Ne.a)(["\n    query getCases($filter: Case_filter){\n        cases(where: $filter ) {\n        id\n        companyName\n        caseType\n        description\n        region\n        profession\n        gender\n        ageRange\n        experience\n        }\n    }\n"]))),Re=Object(Ce.a)(ve||(ve=Object(Ne.a)(["\n    query GetStat($regionId: ID!) {\n        stat(id: $regionId) {\n            regionName\n            casesByRegion\n            casesByType\n            casesByProfession\n            casesByGender\n            casesByAgeRange\n        }\n    }\n"]))),ke=Object(R.a)((function(e){return{dashboardContainer:{marginTop:"4rem",marginBottom:"4rem"},regionTitle:{fontSize:"3.5rem",fontWeight:"bold"},totlaNumberOfReports:{fontSize:"1.75rem"},typeOfReport:{display:"flex",alignItems:"center"},dInlineBlock:{display:"inline-block"},chip:{margin:"0 0 0 2rem",fontSize:"1rem",borderRadius:"5px"},fixedHeightItem:{height:"25rem"},chartTitle:{fontSize:"2.25rem",fontWeight:"300",lineHeight:"3rem"},chartContainer:{height:"100%",backgroundColor:"rgba(238,238,238,0.4)",border:"1px solid #DFDFDF",padding:"1rem"}}}));function ze(){var e=Object(A.a)(),a=ke(),t=xe().region,n=Object(ye.a)(Re,{variables:{regionId:J.regionToId[t]}}),r=n.data,i=n.loading,o=n.error;if(o)return Object(u.jsx)(w.a,{children:o.message});var c=r?r.stat:{};return Object(u.jsx)(u.Fragment,{children:i?Object(u.jsxs)(B.a,{container:!0,className:a.dashboardContainer,justify:"flex-start",alignItems:"center",children:[Object(u.jsx)(he,{children:Object(u.jsxs)(B.a,{item:!0,xs:12,children:[Object(u.jsx)(q,{component:"h2",variant:"h1",className:a.regionTitle,children:J.regionToRegionRenderName[t]}),Object(u.jsx)(w.a,{className:a.totlaNumberOfReports,children:"casos han denunciado abusos de empresas o entidades p\xfablicas en la zona."})]})}),Object(u.jsx)(ge.a,{variant:"text",height:200,width:2e3}),Object(u.jsx)(B.a,{item:!0,xs:12,md:10,lg:8,xl:6,className:a.fixedHeightItem,children:Object(u.jsx)(ge.a,{variant:"rectangular",height:300,width:800})}),Object(u.jsx)(B.a,{item:!0,xs:12,md:6,lg:4,xl:3,className:a.fixedHeightItem,children:Object(u.jsx)(ge.a,{variant:"rectangular",height:300,width:"100%"})}),Object(u.jsx)(B.a,{item:!0,xs:12,md:6,lg:4,xl:3,className:a.fixedHeightItem,children:Object(u.jsx)(ge.a,{variant:"rectangular",height:300,width:500})})]}):Object(u.jsxs)(B.a,{container:!0,className:a.dashboardContainer,spacing:4,justify:"flex-start",alignItems:"center",children:[Object(u.jsxs)(B.a,{item:!0,xs:12,children:[Object(u.jsx)(q,{component:"h2",variant:"h1",className:a.regionTitle,children:J.regionToRegionRenderName[t]}),Object(u.jsxs)(w.a,{className:a.totlaNumberOfReports,children:[c.casesByRegion," casos han denunciado abusos de empresas o entidades p\xfablicas en la zona."]})]}),Object(u.jsxs)(B.a,{item:!0,xs:12,className:a.typeOfReport,children:[Object(u.jsx)(q,{component:"h2",variant:"h2",className:Object(z.a)(a.dInlineBlock,a.chartTitle),children:"TIPO DE ABUSO"}),J.categories.types.map((function(t,n){return Object(u.jsx)(I.a,{label:J.typeToTypeRenderName[t]+" "+c.casesByType[J.categories.types.indexOf(t)],className:a.chip,style:{backgroundColor:J.chipColors[t],color:e.palette.text.light}},t+"chip")}))]}),Object(u.jsxs)(B.a,{item:!0,xs:12,md:10,lg:8,xl:6,className:a.fixedHeightItem,children:[Object(u.jsx)(q,{component:"h2",variant:"h2",className:a.chartTitle,children:"PROFESI\xd3N"}),Object(u.jsx)(D.a,{className:a.chartContainer,children:Object(u.jsx)(oe,{keys:J.categories.professions,values:ae(c.casesByProfession),labels:J.professionToProfessionRenderName})})]}),Object(u.jsxs)(B.a,{item:!0,xs:12,md:6,lg:4,xl:3,className:a.fixedHeightItem,children:[Object(u.jsx)(q,{component:"h2",variant:"h2",className:a.chartTitle,children:"G\xc9NERO"}),Object(u.jsx)(D.a,{className:a.chartContainer,children:Object(u.jsx)(pe,{keys:J.categories.genders,values:ae(c.casesByGender),labels:J.genderToGenderRenderName})})]}),Object(u.jsxs)(B.a,{item:!0,xs:12,md:6,lg:4,xl:3,className:a.fixedHeightItem,children:[Object(u.jsx)(q,{component:"h2",variant:"h2",className:a.chartTitle,children:"EDAD"}),Object(u.jsx)(D.a,{className:a.chartContainer,children:Object(u.jsx)(pe,{keys:J.categories.ageRanges,values:ae(c.casesByAgeRange),labels:J.ageRangeToAgeRangeRenderName})})]})]})})}var Ae=t(1007),we=t(1008),Be=t(1009),Ie=t(1010),De=t(1001),Ee=function(e){var a=e.children,t=Object(De.a)({focus:function(){t.scrollWheelZoom.enable()},blur:function(){t.scrollWheelZoom.disable()}});return a},Fe=t(539),qe=t.n(Fe),_e={loading:!0,error:"",cases:{}},Pe=Object(n.createContext)(_e);var We=t(1051),Le=t(90),Ge=t(942),He=t(1002),Me=t(1003),Ue=t(1004),Je=t(1005),Ve=t(540),Ke=t.n(Ve),Qe=["expand"],Ze=Object(Le.a)((function(e){e.expand;var a=Object(E.a)(e,Qe);return Object(u.jsx)(Ge.a,Object(c.a)({},a))}))((function(e){var a=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:a.transitions.create("transform",{duration:a.transitions.duration.shortest})}})),Ye=Object(R.a)((function(e){return{container:{display:"flex",flexDirection:"column",width:"100%",padding:"1rem",borderRadius:"5px",backgroundColor:"#fff",marginBottom:"2rem"},cardTitle:{padding:"0.5rem"},name:{display:"block"},profession:{opacity:"0.5",marginTop:"0.2rem"},chip:{fontSize:"0.9rem",borderRadius:"5px",marginBottom:"0.5rem"}}}));function Xe(e){var a=Ye(),t=Object(A.a)(),n=e.caseDetails,i=e.expandedProp,o=r.a.useState(i),c=Object(s.a)(o,2),l=c[0],d=c[1];return Object(u.jsxs)(He.a,{className:a.container,children:[Object(u.jsxs)(Me.a,{className:a.cardTitle,children:[Object(u.jsxs)(w.a,{variant:"h4",className:a.name,children:["Persona ",n.id]}),Object(u.jsx)(w.a,{variant:"h4",className:a.profession,children:J.professionToProfessionRenderName[n.profession]})]}),Object(u.jsxs)(Ue.a,{disableSpacing:!0,children:[Object(u.jsx)(I.a,{label:n.companyName,className:a.chip}),Object(u.jsx)(I.a,{label:J.typeToTypeRenderName[n.caseType],className:a.chip,style:{marginLeft:t.spacing(1),backgroundColor:J.chipColors[n.caseType],color:t.palette.text.light}}),Object(u.jsx)(Ze,{expand:l,onClick:function(){d(!l)},"aria-expanded":l,"aria-label":"show more",children:Object(u.jsx)(Ke.a,{})})]}),Object(u.jsx)(Je.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(u.jsx)(Me.a,{children:Object(u.jsx)(w.a,{paragraph:!0,children:n.description})})})]})}var $e=t(1006),ea=t(541),aa=t.n(ea),ta=["children","onClose"],na=Object(R.a)((function(e){return{root:{margin:0,padding:e.spacing(3),paddingLeft:0,position:"sticky",top:0},closeButton:{position:"absolute",right:-e.spacing(2),top:0,color:e.palette.grey[500]},container:{position:"absolute",top:"0rem",left:"0rem",height:"100%",width:"100%",backgroundColor:"#fff",borderRadius:"0px",padding:"2.5rem"}}})),ra=function(e){var a=na(),t=a.root,n=a.closeButton,r=a.container,i=e.children,o=e.onClose,s=Object(E.a)(e,ta);return Object(u.jsx)($e.a,Object(c.a)(Object(c.a)({disableTypography:!0,className:t},s),{},{children:Object(u.jsxs)(B.a,{className:r,children:[Object(u.jsx)(w.a,{variant:"h3",children:i}),o?Object(u.jsx)(Ge.a,{"aria-label":"close",className:n,onClick:o,children:Object(u.jsx)(aa.a,{})}):null]})}))},ia=Object(R.a)((function(e){return{container:{position:"absolute",top:"1rem",left:"1rem",height:"calc(100% - 2rem)",width:"33%",maxWidth:"400px",backgroundColor:"#fff",borderRadius:"5px",padding:"0rem 2rem 2rem",zIndex:400,overflowY:"scroll !important"}}}));function oa(e){var a=ia(),t=e.title,n=e.cases,r=e.open,i=e.onClose;return r?Object(u.jsxs)(We.a,{className:a.container,children:[Object(u.jsx)(ra,{onClose:i,children:t}),n.map((function(e,a){if(""!=e.region&&""!=e.description)return Object(u.jsx)(Xe,{caseDetails:e,expandedProp:0==a},"casecard-".concat(e.id))}))]}):Object(u.jsx)(u.Fragment,{})}var ca=function(e){var a=Object.assign({},e),t=Object(n.useContext)(Pe),r=xe(),i=r.region,o=r.setRegion,l=Object(n.useState)(!1),d=Object(s.a)(l,2),m=d[0],j=d[1],b=function(e){var a=function(e,a){for(var t=Object.keys(a),n=0;n<t.length;n++)if(JSON.stringify(a[t[n]])===JSON.stringify(e))return t[n];return!1}(e.latlng,J.regionToLatLng);a?(o(a),j(!0)):console.log("<Map> No matching region found")};if(t.loading)return Object(u.jsx)(ge.a,{variant:"rectangular",height:600,width:2e3});if(t.error)return Object(u.jsx)(w.a,{children:t.error.message});var p=t.cases,g=[];p.map((function(e){if(""!=e.region&&""!=e.description){var a=J.regionToLatLng[e.region];g.push([a.lat,a.lng])}}));var h={};for(var x in J.markersByType)h[x]=L.icon(J.markersByType[x]);return Object(u.jsxs)(Ae.a,Object(c.a)(Object(c.a)({bounds:g,zoom:103,scrollWheelZoom:!1,zoomControl:!1},a),{},{children:[Object(u.jsx)(we.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(u.jsxs)(Ee,{children:[Object(u.jsx)(qe.a,{onClick:b,spiderfyOnMaxZoom:!1,disableClusteringAtZoom:10,zoomToBoundsOnClick:!0,children:p.map((function(e){if(""!=e.region&&""!=e.description){var a=J.regionToLatLng[e.region];return Object(u.jsx)(Be.a,{position:[a.lat,a.lng],eventHandlers:{click:b},icon:h[e.caseType]},e.id+"-report")}}))}),Object(u.jsx)(Ie.a,{position:"bottomright"})]}),Object(u.jsx)(oa,{title:"Casos reportados en ".concat(J.regionToRegionRenderName[i]),cases:te(p,i),open:m,onClose:function(){j(!1)}})]}))},sa=t(1011),la=Object(R.a)((function(e){return{appBarSpacer:e.mixins.toolbar,main:{minHeight:"calc(100vh - 136px)"}}}));function da(e){var a=la(),t=e.children,n=e.className,r=e.container,i=void 0===r||r,o=e.maxWidth;return i?Object(u.jsxs)("div",{children:[Object(u.jsx)(sa.a,{}),Object(u.jsxs)("main",{className:a.main,children:[Object(u.jsx)("div",{className:a.appBarSpacer}),Object(u.jsx)(k.a,{maxWidth:o||"lg",className:n,children:t})]})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)(sa.a,{}),Object(u.jsxs)("main",{className:a.main,children:[Object(u.jsx)("div",{className:a.appBarSpacer}),t]})]})}function ma(e){var a=e.children,t=Object(ye.a)(Te),n=t.data,r=t.loading,i=t.error,o=n?n.cases:{};return Object(u.jsx)(Pe.Provider,{value:{loading:r,error:i,cases:o},children:a})}var ua=Object(R.a)((function(e){return{map:{height:"80vh",maxWidth:"100vw",marginBottom:e.spacing(2),position:"relative"}}}));function ja(){var e=ua();return Object(u.jsx)(da,{container:!1,children:Object(u.jsxs)(ma,{children:[Object(u.jsx)("div",{className:"map",children:Object(u.jsx)(ca,{className:e.map})}),Object(u.jsx)(k.a,{maxWidth:"xl",children:Object(u.jsx)(ze,{})})]})})}var ba=t(1053),pa=t(44),ga=t.n(pa),ha=t(271),xa=t(542),Oa=["className","setDataEntries","setDataHeaders"],fa=Object(R.a)((function(e){return{container:{maxWidth:"600px",marginTop:e.spacing(2),padding:e.spacing(4),borderRadius:e.spacing(1),border:"2px dashed #838383",color:"#838383",fontSize:"1rem"},highlight:{backgroundColor:"#d2f8d2"}}}));function va(e){var a=fa(),t=Object(n.useState)(!1),r=Object(s.a)(t,2),i=r[0],o=r[1],l=e.className,d=e.setDataEntries,m=e.setDataHeaders,j=Object(E.a)(e,Oa);return Object(u.jsx)("div",Object(c.a)(Object(c.a)({className:l?i?Object(z.a)(l,a.container,a.highlight):Object(z.a)(l,a.container):i?Object(z.a)(a.container,a.highlight):a.container},j),{},{onDragEnter:function(e){e.preventDefault(),o(!0)},onDragLeave:function(e){e.preventDefault(),o(!1)},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),o(!1),Array.from(e.dataTransfer.files).filter((function(e){return"text/csv"===e.type})).forEach(function(){var e=Object(ha.a)(ga.a.mark((function e(a){var t,n;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.text();case 2:t=e.sent,n=Object(xa.parse)(t).data,console.log("[DropZone] Headers"),console.log(n[0]),m(n[0]),console.log("[DropZone] Dataset"),console.log(n),n.shift(),d(n);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},children:"Arrastra un archivo csv con los casos que quieres cargar..."}))}var ya=t(1013),Na=t(1055),Ca=["label","labelTitle","className","required"],Ta=Object(R.a)((function(e){return{field:{margin:"".concat(e.spacing(1),"px 0")},label:{color:e.palette.text.main,fontWeight:"bold",transition:"all 0.3s ease"}}}));var Sa=t(1016),Ra=t(943),ka=t(1017),za=t(1018),Aa=t(1045),wa=["label","name","value","onChange","items","labelTitle","required"],Ba=Object(R.a)((function(e){return{root:{margin:"".concat(e.spacing(1),"px 0")},label:{color:e.palette.text.main,fontWeight:"bold"}}}));var Ia=function(e){var a=Ba(),t=e.label,n=e.name,r=e.value,i=e.onChange,o=e.items,s=e.labelTitle,l=e.required,d=Object(E.a)(e,wa);return Object(u.jsxs)(Sa.a,Object(c.a)(Object(c.a)({},d),{},{children:[s?l?Object(u.jsxs)(Ra.a,{className:a.label,children:[t,"*"]}):Object(u.jsx)(Ra.a,{className:a.label,children:t}):null,Object(u.jsx)(ka.a,{row:!0,name:n,value:r,onChange:i,children:o.map((function(e,a){return Object(u.jsx)(za.a,{value:e.value,label:e.label,control:Object(u.jsx)(Aa.a,{})},a)}))})]}))},Da=t(1044),Ea=t(1058),Fa=["name","label","labelTitle","value","onChange","options","className","required"],qa=Object(R.a)((function(e){return{field:{margin:"".concat(e.spacing(1),"px 0"),width:"100%"},label:{color:e.palette.text.main,fontWeight:"bold",transition:"all 0.3s ease"}}}));var _a=function(e){var a=qa(),t=Object(A.a)(),n=e.name,r=e.label,i=e.labelTitle,o=e.value,s=e.onChange,l=e.options,d=e.className,m=e.required,j=Object(E.a)(e,Fa);return Object(u.jsxs)("div",{className:d,children:[i?m?Object(u.jsxs)(ya.a,{id:"".concat(n,"-select-label"),className:a.label,children:[r,"*"]}):Object(u.jsx)(ya.a,{id:"".concat(n,"-select-label"),className:a.label,children:r}):null,Object(u.jsxs)(Sa.a,Object(c.a)(Object(c.a)({variant:"outlined",className:a.field},j),{},{children:[Object(u.jsx)(ya.a,{children:r}),Object(u.jsxs)(Da.a,{name:n,label:r,value:o,onChange:s,onOpen:function(e){document.querySelectorAll("#".concat(n,"-select-label"))[0].style.color=t.palette.primary.main},onClose:function(e){document.querySelectorAll("#".concat(n,"-select-label"))[0].style.color=t.palette.text.primary},children:[Object(u.jsx)(Ea.a,{value:"",children:"None"}),l.map((function(e,a){return Object(u.jsx)(Ea.a,{value:e.value,children:e.label},a)}))]})]}))]})},Pa=t(1047),Wa=["name","checked","msg","onChange","className"],La=Object(R.a)((function(e){return{root:{flexDirection:"row","&  p":{alignItems:"center",display:"flex"}}}}));var Ga=function(e){var a=La(),t=e.name,n=e.checked,r=e.msg,i=e.onChange,o=e.className,s=Object(E.a)(e,Wa);return Object(u.jsx)("div",{className:o,children:Object(u.jsxs)(Sa.a,Object(c.a)(Object(c.a)({component:"fieldset",variant:"outlined",className:a.root},s),{},{children:[Object(u.jsx)(Pa.a,{name:t,checked:n,onChange:function(e){return i(function(e,a){return{target:{name:e,value:a}}}(t,e.target.checked))}}),Object(u.jsx)(w.a,{children:r})]}))})},Ha=t(944);var Ma=function(e){var a=e.label,t=e.onChange,n=e.options;return Object(u.jsx)("div",{children:Object(u.jsxs)(Sa.a,{component:"fieldset",variant:"outlined",children:[Object(u.jsx)(Ra.a,{component:"legend",children:a}),Object(u.jsx)(Ha.a,{children:n.map((function(e,a){return Object(u.jsx)(za.a,{control:Object(u.jsx)(Pa.a,{name:e.name,value:e.value,onChange:function(e){return t(function(e,a){return{target:{name:e,value:a}}}(name,e.target.checked))}}),label:e.label},a)}))})]})})},Ua=t(70),Ja=t(1038),Va=t(547),Ka=["name","label","value","onChange"];var Qa=function(e){var a=e.name,t=e.label,n=e.value,r=e.onChange,i=Object(E.a)(e,Ka);return Object(u.jsx)(Ua.a,{utils:Va.a,children:Object(u.jsx)(Ja.a,Object(c.a)({disableToolbar:!0,variant:"inline",inputVariant:"outlined",format:"dd/mm/yyyy",margin:"normal",name:a,label:t,value:n,onChange:function(e){return r(function(e,a){return{target:{name:e,value:a}}}(a,e))}},i))})},Za=t(1022),Ya=["text","size","color","variant","onClick"];var Xa={Input:function(e){var a=Object(A.a)(),t=Ta(),n=e.label,r=e.labelTitle,i=e.className,o=e.required,s=Object(E.a)(e,Ca);return Object(u.jsxs)("div",{className:i,children:[r?o?Object(u.jsxs)(ya.a,{className:t.label,children:[n,"*"]}):Object(u.jsx)(ya.a,{className:t.label,children:n}):null,Object(u.jsx)(Na.a,Object(c.a)({variant:"outlined",label:n,className:t.field,onFocus:function(e){e.target.parentNode.parentNode.parentNode.childNodes[0].style.color=a.palette.primary.main},onBlur:function(e){e.target.parentNode.parentNode.parentNode.childNodes[0].style.color=a.palette.text.primary}},s))]})},RadioGroup:Ia,Select:_a,Checkbox:Ga,CheckboxGroup:Ma,DatePicker:Qa,Button:function(e){var a=e.text,t=e.size,n=e.color,r=e.variant,i=e.onClick,o=Object(E.a)(e,Ya);return"INFORMA SOBRE TU CASO"==a?Object(u.jsx)("span",{className:"report",children:Object(u.jsx)(Za.a,Object(c.a)(Object(c.a)({size:t||"large",color:n||"primary",variant:r||"contained",onClick:i},o),{},{children:Object(u.jsx)("div",{children:a})}))}):Object(u.jsx)(Za.a,Object(c.a)(Object(c.a)({size:t||"large",color:n||"primary",variant:r||"contained",onClick:i},o),{},{children:a}))}},$a=t(1024),et=t(1025),at=t(1026),tt=t(1027),nt=t(1028),rt=t(1029),it=Object(R.a)((function(e){return{}}));function ot(e){var a=e.headers,t=e.dataset;it();return Object(u.jsx)($a.a,{component:"div",children:Object(u.jsxs)(et.a,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[Object(u.jsx)(at.a,{children:Object(u.jsx)(tt.a,{children:a.map((function(e,a){return Object(u.jsx)(nt.a,{align:"left",children:e},"cell-"+a)}))})}),Object(u.jsx)(rt.a,{children:t.map((function(e,t){return Object(u.jsx)(tt.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:e.map((function(e,t){return Object(u.jsx)(nt.a,{component:"th",children:e.slice(0,16)+"..."},a[t]+"-d"+t)}))},a[t]+"-row-"+t)}))})]})})}var ct,st,lt,dt,mt,ut=t(1030),jt=t(1031),bt=t(1032),pt=t(1063),gt=Object(Ce.a)(ct||(ct=Object(Ne.a)(["\n    mutation report($data: ReportCaseCreateInput!) {\n        report(data: $data) {\n            companyName\n            caseType\n            description\n            region\n            profession\n            gender\n            ageRange\n        }\n    }\n"]))),ht=Object(Ce.a)(st||(st=Object(Ne.a)(["\n    mutation restart {\n        restart {\n            connected\n        }\n    }\n"]))),xt=Object(Ce.a)(lt||(lt=Object(Ne.a)(["\n\nquery users($filter: String){\n    users(filter: $filter ) {\n      email\n    }\n}\n"]))),Ot=Object(Ce.a)(dt||(dt=Object(Ne.a)(["\n    mutation addUser($data: UserCreateInput!) {\n        add(data: $data) {\n            id\n            email\n            terms\n            region\n            profession\n            gender\n        }\n    }\n"]))),ft=Object(Ce.a)(mt||(mt=Object(Ne.a)(["\n    mutation deleteUsers {\n        deleteUsers \n    }\n"])));function vt(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(),o=Object(s.a)(i,2),l=o[0],d=o[1],m=Object(n.useState)(),u=Object(s.a)(m,2),j=u[0],b=u[1],p=Object(n.useState)(),g=Object(s.a)(p,2),h=g[0],x=g[1],O=Object(n.useState)(),f=Object(s.a)(O,2),v=f[0],y=f[1],N=Object(n.useState)(),C=Object(s.a)(N,2),T=C[0],S=C[1],R=Object(n.useState)(),k=Object(s.a)(R,2),z=k[0],A=k[1],w=function(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(),o=Object(s.a)(i,2),l=o[0],d=o[1],m=Object(n.useState)(),u=Object(s.a)(m,2),j=u[0],b=u[1],p=Object(pt.a)(gt),g=Object(s.a)(p,2),h=g[0],x=g[1],O=x.data,f=x.loading,v=x.error,y=Object(pt.a)(Ot),N=Object(s.a)(y,2),C=N[0],T=N[1],S=T.data,R=T.loading,k=T.error;return Object(n.useEffect)((function(){v&&b(v),k&&b(k),(f||R)&&d(f||R),O&&r((function(e){return Object(c.a)(Object(c.a)({},e),{},{caseReported:O})})),S&&r((function(e){return Object(c.a)(Object(c.a)({},e),{},{addedUser:S})})),O&&S&&d(!1)}),[O,S,f,R,v,k]),[function(e){if(e.terms){var a={email:e.email,terms:e.terms,region:e.region,profession:e.profession,gender:e.gender};try{C({variables:{data:a}})}catch(j){console.log(j)}}var t={companyName:e.companyName,caseType:e.caseType,description:e.description,region:e.region,profession:e.profession,gender:e.gender,ageRange:e.ageRange,experience:e.experience};try{h({variables:{data:t}})}catch(j){console.log(j)}},{data:t,loading:l,error:j}]}(),B=Object(s.a)(w,2),I=B[0],D=B[1],E=D.data,F=D.loading,q=D.error;return Object(n.useEffect)((function(){if(q)return console.log("[useBulkReport] Error: "),console.log(q),void b(q);if(!F)if(!E||F);else{console.log("[useBulkReport] Case ".concat(T+1," reported: ")),console.log(E);var e=h;if(e[T]=!0,x(e),r({reportsState:h,casesToReport:v}),T+1<z){S((function(e){return e+1}));var a={companyName:v[T+1][0],caseType:K(v[T+1][1]),description:v[T+1][2],profession:Q(v[T+1][3]),gender:Z(v[T+1][4]),region:V(v[T+1][5]),experience:X(v[T+1][6]),ageRange:Y(v[T+1][7]),terms:!!v[T+1][8],email:v[T+1][9]};I(a)}else T+1==z&&d(!1)}}),[E,F,q]),[function(e){d(!0),S(0),x(Array(e.length)),A(e.length),y(e);var a={companyName:e[0][0],caseType:K(e[0][1]),description:e[0][2],profession:Q(e[0][3]),gender:Z(e[0][4]),region:V(e[0][5]),experience:X(e[0][6]),ageRange:Y(e[0][7]),terms:!!e[0][8],email:e[0][9]};I(a)},{data:t,loading:l,error:j}]}var yt=Object(R.a)((function(e){return{mainGrid:{marginTop:"2rem"},formButton:{display:"block",boxShadow:"none",borderRadius:0,color:e.palette.text.light},flexVerticalAlignCenter:{display:"flex",alignItems:"center"},mb:{marginBottom:e.spacing(2)},mt:{marginTop:e.spacing(2)},loadingSpinner:{color:e.palette.primary.main,display:"grid",gridAutoFlow:"column",alignItems:"center",justifyItems:"center",margin:"7rem auto 0rem"},loadingSpinnerBulkReport:{color:e.palette.secondary.main,display:"inline-block",margin:"0 2rem"},loadingText1:{color:e.palette.primary.main,fontSize:"2rem",fontWeight:"400",padding:"2rem 0 0rem",margin:"2rem 0 0rem",textAlign:"center"},loadingText2:{color:e.palette.primary.main,fontSize:"1rem",fontWeight:"400",padding:"0rem 0 2rem",margin:"1rem 0 2rem",textAlign:"center"},loadingText3:{color:e.palette.secondary.main,fontSize:"1.5rem",fontWeight:"400",textAlign:"center",display:"inline-block"},flexColumn:{display:"flex",flexDirection:"column",justifyContent:"center"}}}));function Nt(){var e=yt(),a=Object(n.useState)(null),t=Object(s.a)(a,2),r=t[0],i=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),d=l[0],m=l[1],j=Object(n.useState)([]),b=Object(s.a)(j,2),p=b[0],g=b[1],h=function(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(),o=Object(s.a)(i,2),l=o[0],d=o[1],m=Object(n.useState)(),u=Object(s.a)(m,2),j=u[0],b=u[1],p=Object(pt.a)(ht),g=Object(s.a)(p,2),h=g[0],x=g[1],O=x.data,f=x.loading,v=x.error,y=Object(pt.a)(ft),N=Object(s.a)(y,2),C=N[0],T=N[1],S=T.data,R=T.loading,k=T.error;return Object(n.useEffect)((function(){v&&b(v),k&&b(k),f&&d(!0),R&&d(!0),O&&r((function(e){return Object(c.a)(Object(c.a)({},e),{},{restartedCases:O.restart.connected})})),S&&r((function(e){return Object(c.a)(Object(c.a)({},e),{},{restartedUsers:S.deleteUsers})})),S&&O&&d(!1)}),[O,f,v,S,R,k]),[function(){try{C()}catch(j){console.log(j)}try{h()}catch(j){console.log(j)}},{data:t,loading:l,error:j}]}(),x=Object(s.a)(h,2),O=x[0],f=x[1],v=f.data,y=f.loading,N=f.error,C=vt(),T=Object(s.a)(C,2),S=T[0],R=T[1],A=R.data,I=R.loading,D=R.error;return Object(n.useEffect)((function(){}),[A,I,D]),y?Object(u.jsx)(da,{container:!1,children:Object(u.jsxs)(B.a,{item:!0,lg:12,className:e.flexColumn,children:[Object(u.jsx)(ba.a,{size:44,color:"inherit",className:e.loadingSpinner}),Object(u.jsx)(w.a,{className:e.loadingText1,children:"Reiniciando..."}),Object(u.jsx)(w.a,{className:e.loadingText2,children:"Este proceso puede tardar unos segundos..."})]})}):N?(console.log(N),Object(u.jsx)(da,{container:!1,children:Object(u.jsxs)(B.a,{item:!0,lg:12,className:e.flexColumn,children:[Object(u.jsx)(w.a,{className:e.loadingText1,children:"Error!"}),Object(u.jsx)(w.a,{className:e.loadingText2,children:N})]})})):Object(u.jsx)(da,{container:!1,children:Object(u.jsx)(ma,{children:Object(u.jsx)(k.a,{maxWidth:"xl",children:Object(u.jsxs)(B.a,{container:!0,spacing:2,className:e.mainGrid,children:[Object(u.jsx)(B.a,{item:!0,xs:12,children:Object(u.jsx)(w.a,{variant:"h1",align:"center",children:"Administrar prototipo"})}),Object(u.jsxs)(B.a,{item:!0,xs:6,children:[Object(u.jsx)(w.a,{variant:"h2",className:e.mb,children:"Carga m\xfaltiple de casos"}),Object(u.jsx)(w.a,{variant:"body1",className:e.mb,children:"Arrastra un documento en formato csv. El documento (normalmente exportado desde una hoja de c\xe1lculo) debe contener una primera fila con las siguientes etiquetas de columna: companyName, caseType, description, region, profession, gender, ageRange, experience, terms, email. El resto de filas ser\xe1n los datos correspondientes a cada una de las entradas a reportar."}),Object(u.jsx)(va,{setDataEntries:i,setDataHeaders:g,className:e.mb})]}),Object(u.jsxs)(B.a,{item:!0,xs:6,children:[Object(u.jsxs)(w.a,{variant:"h2",className:e.mb,children:[Object(u.jsx)(ut.a,{})," Reiniciar prototipo"]}),Object(u.jsx)(w.a,{variant:"body1",className:e.mb,children:" Se eliminar\xe1n todos los casos del contrato, se reiniciar\xe1n estad\xedsticas y se limpiar\xe1 la base de datos de usuarios de contacto."}),Object(u.jsx)(Xa.Button,{type:"submit",text:"REINICIAR",onClick:O,className:Object(z.a)(e.mb,e.formButton)}),v?Object(u.jsxs)(w.a,{variant:"body1",className:e.mb,children:["Reiniciado: ",v.restartedUsers&&v.restartedCases?Object(u.jsx)(jt.a,{}):Object(u.jsx)(bt.a,{})]}):null]}),null===r?null:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(B.a,{item:!0,xs:4,className:e.flexVerticalAlignCenter,children:Object(u.jsx)(Xa.Button,{type:"submit",text:"CARGA M\xdaLTIPLE",onClick:function(){m(!0),S(r)},className:Object(z.a)(e.formButton)})}),I?Object(u.jsxs)(B.a,{item:!0,xs:8,className:e.flexVerticalAlignCenter,children:[Object(u.jsx)(ba.a,{size:44,color:"inherit",className:e.loadingSpinnerBulkReport}),Object(u.jsx)(w.a,{className:e.loadingText3,children:"Carga en curso, este proceso puede tardar varios minutos..."})]}):d?Object(u.jsx)(B.a,{item:!0,xs:8,className:e.flexVerticalAlignCenter,children:Object(u.jsxs)(w.a,{variant:"body1",children:["Carga completada: ",D?Object(u.jsx)(bt.a,{}):Object(u.jsx)(jt.a,{})]})}):null,Object(u.jsx)(B.a,{item:!0,xs:12,className:e.mt,children:Object(u.jsx)(ot,{headers:["Estado"].concat(p),dataset:function(){var e=[];return r.map((function(a,t){A?e.push(A.reportsState[t]?["\u2705"].concat(a):["\ud83d\udd04"].concat(a)):e.push([" "].concat(a))})),e}()})})]})]})})})})}var Ct=Object(R.a)((function(e){return{title:{color:e.palette.primary.main,fontSize:"3rem",fontWeight:"700",padding:"4rem 0 2rem"},caption:{fontSize:"1.25rem"},grid:{marginBottom:"6rem"}}}));function Tt(){var e=Ct();return Object(u.jsx)(da,{container:!1,children:Object(u.jsx)(k.a,{maxWidth:"xl",children:Object(u.jsx)(B.a,{container:!0,className:e.grid,children:Object(u.jsxs)(B.a,{item:!0,lg:6,children:[Object(u.jsx)(w.a,{variant:"h2",className:e.title,children:"\xbfQu\xe9 es?"}),Object(u.jsxs)(w.a,{variant:"body1",className:e.caption,children:["El Observatorio de la Precariedad en el Sector Cultural es una ",Object(u.jsx)("b",{children:"iniciativa del grupo de investigaci\xf3n del proyecto P2P Models"})," de la Universidad Complutense de Madrid. El proyecto ",Object(u.jsx)("b",{children:"nace como respuesta a la situaci\xf3n precaria que afecta el sector cultural espa\xf1ol"}),", el cual se ha visto gravemente afectado por los continuos recortes en el sector p\xfablico. Aunque genera el 3,7% del PIB total, el sector cultural y art\xedstico solamente recibe alrededor del 0,43% de la financiaci\xf3n de la Administraci\xf3n P\xfablica espa\xf1ola. En este contexto, lxs trabajadorxs culturales luchan cada vez m\xe1s por sobrevivir a la crisis econ\xf3mica."]}),Object(u.jsx)(w.a,{variant:"h2",className:e.title,children:"\xbfQu\xe9 hacemos?"}),Object(u.jsxs)(w.a,{variant:"body1",className:e.caption,children:["El Observatorio est\xe1 pensado como una ",Object(u.jsx)("b",{children:"plataforma interactiva de visualizaci\xf3n de datos"})," sobre las condiciones actuales de los trabajadores, y proporcionando m\xe1s visibilidad a la problem\xe1tica de la precariedad de los trabajadores culturales. Al mismo tiempo, la plataforma ",Object(u.jsx)("b",{children:"permite a lxs usuarixs crear redes"})," entre ellxs y llegar a entidades de ayuda tras hacer p\xfablica su denuncia. Adem\xe1s, a trav\xe9s de los datos proporcionados por lxs usuarixs, la plataforma tiene el objetivo de visibilizar las diferencias salariales en funci\xf3n del g\xe9nero, la ubicaci\xf3n y el tipo de profesi\xf3n. Idealmente, esto puede servir a la elaboraci\xf3n de reivindicaciones pol\xedticas en torno a la precariedad."]}),Object(u.jsx)(w.a,{variant:"h2",className:e.title,children:"\xbfPor qu\xe9 blockchain?"}),Object(u.jsx)(w.a,{variant:"body1",className:e.caption,children:"El Observatorio busca proteger la privacidad de los denunciantes y el uso de sus datos personales por medio de la plataforma tambi\xe9n utiliza la tecnolog\xeda blockchain para almacenar las denuncias buscando de esta manera evitar potenciales censuras al contenido (contrariamente a lo que sucede en todas las plataformas centralizadas, como Instagram y Twitter, en que el control del contenido siempre queda en manos de los due\xf1os). Mediante el empleo de blockchain, estamos devolviendo a lxs usuarixs el control sobre el contenido que publican."})]})})})})}var St=t(545),Rt=t.n(St),kt=t(1019),zt=t(1020),At=t(1033),wt=t(1021);var Bt=function(e){var a=e.open,t=e.title,n=e.contentText,r=e.closeButtonText,i=e.onClose;return Object(u.jsxs)(kt.a,{open:a,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(u.jsx)($e.a,{id:"alert-dialog-title",children:t}),Object(u.jsx)(zt.a,{children:Object(u.jsx)(At.a,{id:"alert-dialog-description",children:n})}),Object(u.jsx)(wt.a,{children:Object(u.jsx)(Za.a,{onClick:i,color:"primary",autoFocus:!0,children:r})})]})},It=Object(R.a)((function(e){return{caption:{fontSize:"1rem",display:"inline-block"},value:{fontSize:"4rem",display:"inline-block",color:e.palette.primary.main,marginRight:"0.5rem"},container:{maxWidth:"6rem",marginRight:"2rem",color:e.palette.primary.main}}}));function Dt(e){var a=It(),t=e.value,n=e.caption;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(w.a,{variant:"body1",className:a.value,children:t}),Object(u.jsx)(D.a,{className:a.container,children:Object(u.jsx)(w.a,{variant:"body1",className:a.caption,children:n})})]})}var Et=t(543),Ft=t.n(Et),qt=["label","email"],_t=Object(R.a)((function(e){return{anchor:{display:"inline-block"},container:{display:"flex",alignItems:"center"},icon:{display:"inline-block",marginRight:"1rem",height:"3rem !important",width:"3rem !important"},caption:{fontSize:"1.25rem",display:"inline-block",color:e.palette.text.main,textDecoration:"underline"}}}));function Pt(e){var a=_t(),t=e.label,n=e.email,r=Object(E.a)(e,qt);return Object(u.jsx)("a",Object(c.a)(Object(c.a)({href:"mailto:".concat(n),className:a.anchor},r),{},{children:Object(u.jsxs)(D.a,{className:a.container,children:[Object(u.jsx)(Ft.a,{className:a.icon,color:"info"}),Object(u.jsx)(w.a,{variant:"body1",className:a.caption,children:t})]})}))}var Wt=["src","label","url","className"],Lt=Object(R.a)((function(e){return{anchor:{display:"inline-block"},container:{display:"flex",flexDirection:"column",alignItems:"center"},imgContainer:{marginBottom:"1rem",height:"8rem",width:"100%"},img:{objectFit:"contain",height:"10rem",width:"10rem",padding:"1rem 0 2rem"},caption:{fontSize:"1.25rem",display:"inline-block",color:e.palette.text.main,textDecoration:"underline"}}}));function Gt(e){var a=Lt(),t=e.src,n=e.label,r=e.url,i=e.className,o=Object(E.a)(e,Wt);return Object(u.jsx)("a",Object(c.a)(Object(c.a)({href:r,className:Object(z.a)(a.anchor,i)},o),{},{children:Object(u.jsxs)(D.a,{className:a.container,children:[Object(u.jsx)(D.a,{className:a.imgContainer,children:Object(u.jsx)("img",{className:a.img,src:t})}),Object(u.jsx)(w.a,{variant:"body1",className:a.caption,children:n})]})}))}var Ht=t(544),Mt=Object(R.a)((function(e){return{title:{color:e.palette.primary.main,fontSize:"3rem",fontWeight:"700",padding:"4rem 0 2rem"},heading2:{color:e.palette.primary.main,fontSize:"2rem",fontWeight:"700",padding:"2rem 0 2rem"},heading3:{color:e.palette.secondary.main,fontSize:"1.5rem",fontWeight:"700",padding:"2rem 3rem 1rem"},icon:{display:"inline-block",marginRight:"1rem",height:"3rem !important",width:"3rem !important"},caption:{fontSize:"1.25rem",display:"inline-block"},captionOrg:{fontSize:"1.25rem",display:"inline-block",padding:"2rem 3rem 1rem"},smallCaption:{fontSize:"18px",display:"inline-block",marginBottom:"1rem"},grid:{marginBottom:"6rem"},successMsgContainer:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},numbersContainer:{display:"flex",alignItems:"center",paddingLeft:"2rem"},contactList:{listStyle:"none"},entity:{marginLeft:"2rem"}}})),Ut=function(e){var a=Mt(),t=e.location.state.report,r=Object(n.useState)([]),i=Object(s.a)(r,2),o=i[0],c=i[1],l=new Ht.GoogleSpreadsheet("1w2J9DuzFHkUmBQ0zHHY51gPY7NRzmbdUV_VckSfhbSA");Object(n.useEffect)((function(){(function(){var e=Object(ha.a)(ga.a.mark((function e(){var a,t;return ga.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.useServiceAccountAuth({client_email:"p2pmodels@p2pmodels.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCxPQidcsICmrLn\nJcES9OD0MQ5R85WiTLMUtADuF2Iw8gBBeqddfMG+dlboNjFacGI8d6aNhLgLaivq\njr6MS2exrJTiMPWS2xVCWpfcpOmy7MDodWK2XRv0tNFePQHJ5g+aad5Bu5DWhoSC\n7TRUrRsfBpvRlYhddEtaZFXgCf0Svscr2gsD/7wU7PIguiFsYqd/858IvLpcgjDH\n1HKnszCecH1pxxNYhIlCmz+Fu65/r7wu2RwsXII/rH1JNZ+l+4aEjk236KsVV9sS\nlJLvHlGPVMBlSo7hg2Rk6aIb6gU9JGSbhzFRPCG+qcQOYR4FQ8SYKBytVBrGBlQe\nsKWDKiMvAgMBAAECggEAVCgtY4l+irsG8M+R9lzVRc3XRV16cwalT9LK0ELFKoV2\nTqEdQDxBSJ0rVfaJh65uTtTnfjIDK9RdhvIBk18onQpb5W0m5fTmCsw2aJvbpcxa\nKua2GO5sHE0RTwR7yXDWftT/JkoYE2zrFbnpC73ob1p1eVZd2jYio4iZ6BgGFTQ5\n038BfzSCpFp9YdAKNRc6WbTNoknBik2b125KIKhlJ3pzKUsWOgt8SdoNktYfh6Ik\nKzczLYK2QXNT8WEgNj3pnSgIPyT0wdEJf52qs1+Omvx899iLmmHDO45aL7vXqeLL\nWfJg5K0h44bzPBObr3aKn8a/DfwN9b+NtDtsCNgASQKBgQD1Sqao/NEFYJCZ3Bca\nmWX/A9ISGN/ri4umW8W4wvmzl6ZiLGHw8ohbZP0vGLpJGWbVVS3eSeTP2Edrtgjd\n021nvr8xpopizF92iAzhZTbv6k7HNdHspenDjXQikrrmR9LsPFAFmphiR8UBOKoP\n/nxE0HXBJf7iuQwru3bM2eLneQKBgQC4+dQXB0K0pAm8Ozr2waqU5/TA+UMpJvq1\n3dWtnZwAajURV1kWGTd2J4GQTBGN5JlVxE4zFu8IvJ4lU0czaZ+l8IdVTIlcoqzN\n0exjiaWNXVgTTVzOv2VPZ1qqQpZMzadpZtCky+SU0xYlvTafb3tQ2lKldqX+ESbu\neEj6HNMt5wKBgGUzkoVAIYDlcWN5cbLQvUs0qVQ8HQ6SeWB+lpn/H4SgOc5hX1tI\nxUdn6CmpOxpzt4Cm7xC6TgQOyJDA/vF+jLHz+fAjNQ9EINLHmQDZgIwFkNER/HV1\nknfTAapN/XyK/5Pl4mIdgWdzEu3JEikdJupBU4QICBxEmqfkZURpVPuJAoGAP4UC\n8Nl8bZ26/hl02RGOK04v/ShbiMEq7NL9sn3h+T5/dLIDFJSaOAe+9Tc5+/jZMtuT\nYvXoJZ7ny7d6Rsxpl0kun/sFXHs8Tf1daJz27cF1IkO5sAGHn6nFN5xgEoW4jHhT\nA5RErVqDS3hbToqw1QXzxYAl5kYrkU5a+RB28FcCgYANKWYY8NCceDoAxh17/DL7\nY3gpddO0O6GpUxhiFz1ox3Ut7diyvgbUJpxZTbXDvMkLQgAJRHJza2fReQ/I59s+\nEEc05C3AMDEHHfmKsaCYPGteF7ZrqSKLCpiKV0Lq58Pzt4Rwo/UG0ZkASiyafCYY\n+rJORr1UJOTDnbcPF5qZvA==\n-----END PRIVATE KEY-----\n"});case 3:return e.next=5,l.loadInfo();case 5:return a=l.sheetsByIndex[0],e.next=8,a.getRows();case 8:t=e.sent,c(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var d={region:t[0].region},m={profession:t[0].profession},j=(t[1],{OR:[{region:t[0].region},{profession:t[0].profession},{email:t[1]}]}),b=Object(ye.a)(Se,{variables:{filter:d}}),p=b.data,g=b.loading,h=b.error,x=Object(ye.a)(Se,{variables:{filter:m}}),O=x.data,f=x.loading,v=x.error,y=Object(ye.a)(xt,{variables:{filter:JSON.stringify(j)}}),N=y.data,C=y.loading,T=y.error;if(g||f||C)return Object(u.jsx)(w.a,{children:"Cargando datos de tu inter\xe9s..."});if(h||v||T)return Object(u.jsx)(Bt,{title:"Error",contentText:h?h.message:v?v.message:T.message,closeButtonText:"Cerrar"});null===o||void 0===o||o.map((function(e,t){return Object(u.jsx)(Gt,{label:e.nombre_entidad,url:e.url,src:e.url_imagen,className:a.entity})}));console.log("Filas"),console.log(o);var S=null===o||void 0===o?void 0:o.filter((function(e){return e.comunidad_autonoma.includes(t[0].region)||"Todas"==e.comunidad_autonoma})),R=null===o||void 0===o?void 0:o.filter((function(e){return e.profesion_es.includes(t[0].profession)})),z=N.users.filter((function(e){return e.email!=t[1]}));return Object(u.jsx)(da,{container:!1,children:Object(u.jsx)(k.a,{maxWidth:"xl",children:Object(u.jsx)(B.a,{container:!0,className:a.grid,children:Object(u.jsxs)(B.a,{item:!0,lg:8,children:[Object(u.jsx)(w.a,{variant:"h2",className:a.title,children:"\xa1Gracias!"}),Object(u.jsxs)(D.a,{className:a.successMsgContainer,children:[Object(u.jsx)(Rt.a,{className:a.icon,color:"success"}),Object(u.jsxs)(w.a,{variant:"body1",className:a.caption,children:["Tu informaci\xf3n se ha guardado correctamente. ",Object(u.jsx)("br",{})," Cuando vuelvas a la p\xe1gina principal recuerda recargar para ver tu caso en el mapa."]})]}),Object(u.jsx)(w.a,{variant:"body1",className:a.smallCaption,children:"Aqu\xed tienes una serie de recursos que consideramos podr\xedan serte \xfatiles"}),Object(u.jsxs)(D.a,{className:a.numbersContainer,children:[Object(u.jsx)(Dt,{value:O.cases.length,caption:"casos de \n                                ".concat(J.professionToProfessionRenderName[t[0].profession])}),Object(u.jsx)(Dt,{value:p.cases.length,caption:"casos de \n                                ".concat(J.regionToRegionRenderName[t[0].region])})]}),Object(u.jsx)(w.a,{variant:"h3",className:a.heading2,children:"Personas de contacto en tu ciudad o tu profesi\xf3n"}),Object(u.jsx)(w.a,{variant:"body1",className:a.smallCaption,children:"Estas personas han sufrido el mismo tipo de abuso por parte de sus pagadores que tu, tal vez pod\xe1is poneros en contacto y daros alg\xfan tipo de consejo. Ha autorizado a dar su email as\xed que \xa1no te cortes!"}),Object(u.jsx)("ul",{className:a.contactList,children:z.length>0?z.slice(0,5).map((function(e,a){return Object(u.jsx)("li",{children:Object(u.jsx)(Pt,{label:"Persona ".concat(a+1),email:e.email},"contacto-".concat(a+1))})})):Object(u.jsx)(w.a,{variant:"subtitle",className:a.captionOrg,children:"No tenemos emails para ti actualmente"})}),Object(u.jsx)(w.a,{variant:"h3",className:a.heading2,children:"Colectivos o entidades que podr\xedan ayudarte"}),Object(u.jsx)(w.a,{variant:"h5",className:a.heading3,children:"En tu ciudad"}),S.length>0?S.map((function(e,t){return Object(u.jsx)(Gt,{label:e.nombre_entidad,url:e.url,src:e.url_imagen,className:a.entity})})):Object(u.jsx)(w.a,{variant:"subtitle",className:a.captionOrg,children:"No tenemos organizaciones registradas en tu Comunidad Aut\xf3noma, pero si encuentras alguna cont\xe1ctanos"}),Object(u.jsx)(w.a,{variant:"h5",className:a.heading3,children:"Relacionados con tu profesi\xf3n"}),R.length>0?R.map((function(e,t){return Object(u.jsx)(Gt,{label:e.nombre_entidad,url:e.url,src:e.url_imagen,className:a.entity})})):Object(u.jsx)(w.a,{variant:"subtitle",className:a.captionOrg,children:"No tenemos organizaciones registradas relacionadas con tu profesi\xf3n, pero si encuentras alguna cont\xe1ctanos"})]})})})})},Jt=t(51),Vt=["onSubmit","children"];function Kt(e){var a=e.onSubmit,t=e.children,n=Object(E.a)(e,Vt);return Object(u.jsx)("form",Object(c.a)(Object(c.a)({onSubmit:a},n),{},{children:t}))}var Qt=t(1059),Zt=t(1034),Yt=t(1048),Xt=["activeStep","className"],$t=["Datos sobre la empresa","Sobre ti"],en=Object(R.a)((function(e){return{container:{backgroundColor:"transparent"}}}));function an(e){var a=e.activeStep,t=e.className,n=Object(E.a)(e,Xt),r=en();return Object(u.jsx)(Qt.a,Object(c.a)(Object(c.a)({activeStep:a,className:Object(z.a)(r.container,t)},n),{},{children:$t.map((function(e){return Object(u.jsx)(Zt.a,{children:Object(u.jsx)(Yt.a,{children:e})},e)}))}))}var tn=Object(R.a)((function(e){return{title:{color:e.palette.primary.main,fontSize:"2.25rem",fontWeight:"700",marginBottom:e.spacing(1)},requiredAdvice:{fontSize:"0.75rem",marginBottom:e.spacing(1)},field:{marginTop:"2rem"},note:{marginLeft:"2rem",maxWidth:"500px"},description:function(a){return{marginBottom:"3rem",position:"relative","&:after":{content:"'".concat(0==a.description.length?"150 - 500":a.description.length+"/500","'"),color:e.palette.text.secondary,display:"block",position:"absolute",bottom:"-1rem",right:0}}},spacer:{width:"52%"}}}));function nn(e){var a=e.values,t=e.handleInputChange,n=tn(a);return Object(u.jsx)(B.a,{container:!0,spacing:1,children:Object(u.jsxs)(B.a,{item:!0,xs:12,children:[Object(u.jsx)(w.a,{variant:"h3",className:n.title,children:"Datos sobre la empresa"}),Object(u.jsx)(w.a,{variant:"h6",className:n.requiredAdvice,children:"Los campos con asterisco son obligatorios"}),Object(u.jsx)(Xa.Input,{name:"companyName",label:"Nombre de la empresa",placeholder:"Nombre de la empresa",value:a.companyName,onChange:t,className:n.field,required:!0,labelTitle:!0}),Object(u.jsx)("div",{className:n.spacer}),Object(u.jsx)(Xa.RadioGroup,{name:"caseType",label:"Tipo de caso",items:ee(J.categories.types,J.typeToTypeRenderName),value:a.caseType,onChange:t,className:n.field,labelTitle:!0,required:!0}),Object(u.jsx)(w.a,{className:n.note,children:"Entendemos por maltrato cosas como: racaneos en los precios, mensajes de whatsapp a todas horas, presi\xf3n, malas maneras, falsas promesas de visibilidad\u2026 y cualquier cosa que te produzca ansiedad."}),Object(u.jsx)(Xa.Input,{name:"description",label:"Expl\xedcanos brevemente tu caso",placeholder:"Descibe aqu\xed lo que te ha pasado. M\xednimo 150 caracteres.",value:a.description,onChange:t,className:Object(z.a)(n.field,n.description),required:!0,multiline:!0,rows:"6",inputProps:{maxLength:500},fullWidth:!0,labelTitle:!0})]})})}var rn=Object(R.a)((function(e){return{row:{paddingTop:"0 !important",paddingBottom:"0 !important"},title:{color:e.palette.primary.main,fontSize:"2.25rem",fontWeight:"700",marginBottom:e.spacing(1)},smallField:{width:"35%",display:"inline-block",marginRight:"30%","&:last-child":{marginRight:0}},field:{marginTop:"2rem"},w100:{width:"100%"},spacer:{width:"52%"}}}));function on(e){var a=e.values,t=e.handleInputChange,n=rn();return Object(u.jsxs)(B.a,{container:!0,spacing:1,children:[Object(u.jsxs)(B.a,{item:!0,xs:8,className:n.row,children:[Object(u.jsx)(w.a,{variant:"h3",className:n.title,children:"Datos sobre ti"}),Object(u.jsx)(w.a,{variant:"h6",children:"Los campos con asterisco son obligatorios"}),Object(u.jsx)(Xa.Select,{name:"region",label:"Provincia",options:ee(J.categories.regions,J.regionToRegionRenderName).sort((function(e,a){return e.label.localeCompare(a.label)})),value:a.region,onChange:t,className:Object(z.a)(n.field,n.smallField),labelTitle:!0,required:!0}),Object(u.jsx)("div",{className:n.spacer}),Object(u.jsx)(Xa.Select,{name:"profession",label:"Profesi\xf3n",options:ee(J.categories.professions,J.professionToProfessionRenderName),value:a.profession,onChange:t,className:Object(z.a)(n.field,n.smallField),labelTitle:!0,required:!0}),Object(u.jsx)("div",{className:n.spacer}),Object(u.jsx)(Xa.RadioGroup,{name:"gender",label:"G\xe9nero",items:ee(J.categories.genders,J.genderToGenderRenderName),value:a.gender,onChange:t,className:Object(z.a)(n.field,n.w100),labelTitle:!0,required:!0})]}),Object(u.jsxs)(B.a,{item:!0,xs:8,className:n.row,children:[Object(u.jsx)(Xa.Select,{name:"ageRange",label:"Rango de edad",options:ee(J.categories.ageRanges,J.ageRangeToAgeRangeRenderName),value:a.ageRange,onChange:t,className:Object(z.a)(n.field,n.smallField),labelTitle:!0,required:!0}),Object(u.jsx)(Xa.Select,{name:"experience",label:"Experiencia",options:ee(J.categories.experiences,J.experienceToExperienceRenderName),value:a.experience,onChange:t,className:Object(z.a)(n.field,n.smallField),labelTitle:!0,required:!0})]}),Object(u.jsxs)(B.a,{item:!0,xs:8,className:n.row,children:[Object(u.jsx)(Xa.Checkbox,{name:"terms",checked:a.authContact,msg:"Autorizo a que la plataforma me ponga en contacto con personas en mi misma situaci\xf3n",onChange:t,className:n.field,required:!0}),Object(u.jsx)(Xa.Input,{name:"email",label:"Tu email",placeholder:"Tu email",value:a.email,onChange:t,className:n.field,labelTitle:!0}),Object(u.jsx)("div",{className:n.spacer})]})]})}var cn=Object(R.a)((function(e){return{title:{color:e.palette.primary.main,fontSize:"4rem",fontWeight:"700",padding:"4rem 0 2rem"},caption:{fontSize:"1.25rem"},stepper:{marginTop:e.spacing(2),marginBottom:e.spacing(1)},formButton:{boxShadow:"none",borderRadius:0,color:e.palette.text.light},buttonRow:{display:"flex",justifyContent:"flex-end",marginBottom:"4rem"},loadingSpinner:{color:e.palette.primary.main,display:"grid",gridAutoFlow:"column",alignItems:"center",justifyItems:"center",margin:"7rem auto 0rem"},loadingText1:{color:e.palette.primary.main,fontSize:"2rem",fontWeight:"400",padding:"2rem 0 0rem",margin:"2rem 0 0rem",textAlign:"center"},loadingText2:{color:e.palette.primary.main,fontSize:"1rem",fontWeight:"400",padding:"0rem 0 2rem",margin:"1rem 0 2rem",textAlign:"center"},flexColumn:{display:"flex",flexDirection:"column",justifyContent:"center"}}})),sn={companyName:"",caseType:"",description:"",region:"",profession:"",gender:"",ageRange:"",experience:"",terms:!1,email:""};function ln(){var e=cn(),a=Object(n.useState)(""),t=Object(s.a)(a,2),r=t[0],i=t[1],o=Object(n.useState)(0),l=Object(s.a)(o,2),m=l[0],j=l[1],b=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),r=t[0],i=t[1];return{values:r,setValues:i,handleInputChange:function(e){var a=e.target,t=a.name,n=a.value;i(Object(c.a)(Object(c.a)({},r),{},Object(Jt.a)({},t,n)))},submit:function(e,a,t){return function(e){e.preventDefault();try{a(t)}catch(n){console.log(n)}}}}}(sn),p=b.values,g=b.handleInputChange,h=(b.submit,Object(pt.a)(gt)),x=Object(s.a)(h,2),O=x[0],f=x[1],v=f.data,y=f.loading,N=f.error,C=Object(pt.a)(Ot),T=Object(s.a)(C,2),S=T[0],R=T[1],k=R.data,z=R.loading,A=R.error,I=Object(n.useState)(!1),E=Object(s.a)(I,2),F=E[0],q=E[1],_=Object(n.useState)(""),P=Object(s.a)(_,2),W=P[0],L=P[1],G=Object(n.useState)(""),H=Object(s.a)(G,2),M=H[0],U=H[1],J=function(e){e.preventDefault(),""==p.companyName?(q(!0),L("Debes introducir un nombre de empresa.")):""==p.caseType?(q(!0),L("Debes introducir un tipo de caso.")):""==p.description?(q(!0),L("Debes introducir una descripci\xf3n de tu caso.")):p.description.length<150?(q(!0),L("Debes ampliar la descripci\xf3n, el m\xednimo n\xfamero de caracteres es 150.")):j(1)},V=function(e){if(e.preventDefault(),""==p.region)q(!0),L("Debes seleccionar tu provicia.");else if(""==p.profession)q(!0),L("Debes seleccionar tu profesi\xf3n.");else if(""==p.gender)q(!0),L("Debes marcar tu g\xe9nero.");else if(""==p.ageRange)q(!0),L("Debes seleccionar tu rango de edad.");else if(""==p.experience)q(!0),L("Debes seleccionar tu nivel de experiencia.");else if(p.terms&&""==p.email)q(!0),L("Has autorizado que contactemos contigo pero no has especificado una direcci\xf3n de correo.");else if(p.terms&&!p.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/))q(!0),L("E-mail inv\xe1lido.");else{var a={email:p.email,terms:p.terms,region:p.region,profession:p.profession,gender:p.gender},t={companyName:p.companyName,caseType:p.caseType,description:p.description,region:p.region,profession:p.profession,gender:p.gender,ageRange:p.ageRange,experience:p.experience};i(p.email),console.log("[ReportCaseForm] User: "),console.log(a),console.log("[ReportCaseForm] Case: "),console.log(t);try{S({variables:{data:a}}),O({variables:{data:t}})}catch(n){console.log(n)}}};return Object(n.useEffect)((function(){A&&(q(!0),U("Error al guardar tu contacto"),L(A.message)),N&&(q(!0),U("Error registrar tu caso"),L(N.message))}),[v,k,A,N,y]),y||z?Object(u.jsxs)(B.a,{item:!0,lg:12,className:e.flexColumn,children:[Object(u.jsx)(ba.a,{size:44,color:"inherit",className:e.loadingSpinner}),Object(u.jsx)(w.a,{className:e.loadingText1,children:"Estamos registrando tu denuncia."}),Object(u.jsx)(w.a,{className:e.loadingText2,children:"Este proceso puede tardar unos segundos..."})]}):v&&k?Object(u.jsx)(d.a,{to:{pathname:"/confirmation",state:{report:[v.report,r]}}}):Object(u.jsxs)(B.a,{item:!0,lg:6,children:[Object(u.jsx)(w.a,{variant:"h2",className:e.title,children:"Informa sobre tu caso"}),Object(u.jsx)(w.a,{variant:"body1",className:e.caption,children:"La informaci\xf3n es poder. Si has sufrido alg\xfan tipo de abuso por parte de pagadores privados, administraci\xf3n o alg\xfan otro tipo de entidad p\xfablica o privada, d\xe9janos un testimonio an\xf3nimo para ayudar a otros/as compa\xf1eros/as de profesi\xf3n."}),Object(u.jsxs)(D.a,{className:e.root,children:[Object(u.jsx)(an,{activeStep:m,className:e.stepper}),Object(u.jsx)(Kt,{id:"report-case-form",children:function(a){switch(a){case 0:return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(nn,{values:p,handleInputChange:g}),Object(u.jsx)(B.a,{container:!0,spacing:1,justify:"flex-end",children:Object(u.jsxs)(B.a,{item:!0,className:e.buttonRow,children:[Object(u.jsx)(Xa.Button,{type:"button",text:"SIGUIENTE",onClick:J,className:e.formButton}),Object(u.jsx)(Bt,{open:F,title:"Error en el formulario",contentText:W,closeButtonText:"Cerrar",onClose:function(){q(!1)}})]})})]});case 1:return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(on,{values:p,handleInputChange:g}),Object(u.jsx)(B.a,{container:!0,spacing:1,children:Object(u.jsxs)(B.a,{item:!0,xs:8,className:e.buttonRow,children:[N||A?Object(u.jsx)(Xa.Button,{type:"submit",text:"REINTENTAR",onClick:V,className:e.formButton}):Object(u.jsx)(Xa.Button,{type:"submit",text:"FINALIZAR",onClick:V,className:e.formButton}),Object(u.jsx)(Bt,{open:F,title:M,contentText:W,closeButtonText:"Cerrar",onClose:function(){q(!1)}})]})})]})}}(m)})]})]})}function dn(){return Object(u.jsx)(da,{container:!1,children:Object(u.jsx)(k.a,{maxWidth:"xl",children:Object(u.jsx)(B.a,{container:!0,children:Object(u.jsx)(ln,{})})})})}var mn=t(1023),un=t(1060),jn=t(1035),bn=t(1036),pn=t(546),gn=t.n(pn),hn=[{label:"\xbfQU\xc9 ES ESTO?",href:"/info"},{label:"INFORMA SOBRE TU CASO",href:"/report",cta:!0}],xn=Object(R.a)((function(e){return{header:{border:"none",borderTop:"8px solid ".concat(e.palette.primary.main),borderBottom:"1px solid ".concat(e.palette.text.secondary),"@media (max-width: 900px)":{paddingLeft:0},padding:"1rem",maxHeight:e.mixins.toolbar.minHeight},logoAndTitleContainer:{display:"flex",flexDirection:"row"},logo:{display:"flex",flexDirection:"column",justifyContent:"center",width:"150px",height:"75px","& img":{height:"100%"}},logoButton:{"&:hover":{backgroundColor:"transparent"}},titleAndDescription:{display:"flex",flexDirection:"column",justifyContent:"center","& h1":{color:e.palette.primary.dark},"& span":{display:"inline-block",maxWidth:"400px",color:e.palette.primary.main}},menuButton:{marginLeft:"2rem",background:"transparent",color:e.palette.primary.main,fontWeight:"bold",boxShadow:"none","&:hover":{textDecoration:"underline",background:"transparent",color:e.palette.primary.main,boxShadow:"none"}},callToAction:{marginLeft:"2rem",marginRight:"0.5rem",background:e.palette.primary.main,color:e.palette.text.light,borderRadius:0,position:"relative",top:0,left:0,boxShadow:"none",textDecoration:"none",transition:"all 0.3s ease","&:hover":{top:"0.5rem",left:"0.5rem",background:e.palette.primary.main,boxShadow:"none"},"&::after":{content:'""',position:"absolute",top:"0.5rem",left:"0.5rem",width:"100%",height:"100%",background:"transparent",border:"3px solid ".concat(e.palette.primary.main),boxShadow:"none",transition:"all 0.3s ease"},"&:hover::after":{top:"0px",left:"0px"}},toolbar:{display:"flex",justifyContent:"space-between",minHeight:"auto"},drawerContainer:{padding:"20px 30px"}}}));function On(){var e=xn(),a=e.header,t=e.logoAndTitleContainer,r=e.logo,i=e.logoButton,o=e.titleAndDescription,d=e.menuButton,m=e.callToAction,j=e.toolbar,b=e.drawerContainer,p=Object(n.useState)({mobileView:!1,drawerOpen:!1}),g=Object(s.a)(p,2),h=g[0],x=g[1],O=h.mobileView,f=h.drawerOpen;Object(n.useEffect)((function(){var e=function(){return window.innerWidth<900?x((function(e){return Object(c.a)(Object(c.a)({},e),{},{mobileView:!0})})):x((function(e){return Object(c.a)(Object(c.a)({},e),{},{mobileView:!1})}))};return e(),window.addEventListener("resize",(function(){return e()})),function(){window.removeEventListener("resize",(function(){return e()}))}}),[]);var v=function(){return hn.map((function(e){var a=e.label,t=e.href;return Object(u.jsx)(jn.a,{component:l.b,to:t,color:"inherit",style:{textDecoration:"none"},key:a,className:d,children:Object(u.jsx)(Ea.a,{children:a})})}))},y=Object(u.jsx)(Za.a,{className:i,to:"/",component:l.b,children:Object(u.jsx)(D.a,{className:r,children:Object(u.jsx)("img",{src:"./assets/ico-logo.svg"})})}),N=Object(u.jsxs)(D.a,{className:o,children:[Object(u.jsx)(q,{variant:"h1",children:"Observatorio de la Precariedad en el Sector Cultural"}),Object(u.jsxs)("span",{children:["Contrainformaci\xf3n, autodefensa y apoyo mutuo laboral basados en experiencias reales y an\xf3nimas. \xa1Env\xedanos la tuya!"," "]})]}),C=function(){return hn.map((function(e,a){var t=e.label,n=e.href,r=e.cta;return Object(u.jsx)(Xa.Button,{key:a,text:t,to:n,component:l.b,className:r?m:d,children:t})}))};return Object(u.jsx)(bn.a,{className:a,color:"transparent",variant:"outlined",position:"absolute",children:O?Object(u.jsxs)(mn.a,{children:[Object(u.jsx)(Ge.a,{edge:"start",color:"inherit","aria-label":"menu","aria-haspopup":"true",onClick:function(){return x((function(e){return Object(c.a)(Object(c.a)({},e),{},{drawerOpen:!0})}))},children:Object(u.jsx)(gn.a,{})}),Object(u.jsx)(un.a,{anchor:"left",open:f,onClose:function(){return x((function(e){return Object(c.a)(Object(c.a)({},e),{},{drawerOpen:!1})}))},children:Object(u.jsx)("div",{className:b,children:v()})}),Object(u.jsx)("div",{children:y})]}):Object(u.jsx)(k.a,{maxWidth:"xl",children:Object(u.jsxs)(mn.a,{className:j,disableGutters:!0,children:[Object(u.jsxs)("div",{className:t,children:[y,N]}),Object(u.jsxs)("div",{children:[C()," "]})]})})})}var fn=Object(R.a)((function(e){return{flexRow:{display:"flex",flexDirection:"row"},flexRowPT:{display:"flex",flexDirection:"row",paddingTop:"1rem"},flexCol:{display:"flex",flexDirection:"col"},footer:{margin:"1rem auto",backgroundColor:e.palette.secondary.main},footerContent:{justifyContent:"space-between",height:"100px","& span":{fontSize:"12px"}},logos:{maxWidth:"480px","& #smart":{position:"relative",top:"-10%",height:"120%",padding:"0"},"& #p2pmod":{padding:"1.5rem"},"& img":{padding:"1rem",height:"100%",width:"auto",marginRight:"1rem"}},info:{justifyContent:"flex-end",color:e.palette.text.light,textAlign:"right","& div":{padding:"1rem 0.5rem"},"& a":{color:e.palette.text.light,textDecoration:"underline"}},githubIcon:{marginRight:"0.5rem"}}}));function vn(){var e=fn(),a=e.flexRow,t=e.flexRowPT,n=e.flexCol,r=e.footer,i=e.footerContent,o=e.logos,c=e.info,s=e.githubIcon;return Object(u.jsx)("div",{className:r,children:Object(u.jsxs)(k.a,{maxWidth:"xl",className:Object(z.a)(a,i),children:[Object(u.jsxs)("div",{className:Object(z.a)(a,o),children:[Object(u.jsx)("img",{id:"smart",src:"./assets/smart-logo.png"}),Object(u.jsx)("img",{id:"p2pmod",src:"./assets/p2p-logo.svg"}),Object(u.jsx)("img",{src:"./assets/EU-logo.png"}),Object(u.jsx)("img",{src:"./assets/ERC_logo.png"})]}),Object(u.jsxs)(D.a,{className:Object(z.a)(t,c),children:[Object(u.jsxs)(D.a,{className:n,children:[Object(u.jsx)("i",{className:s,children:Object(u.jsx)("img",{src:"./assets/ico-github.svg"})}),Object(u.jsxs)("span",{children:["Follow us on"," ",Object(u.jsx)(jn.a,{href:"https://github.com/p2pmodels",target:"_blank",children:"Github"})]})]}),Object(u.jsx)(D.a,{className:n,children:Object(u.jsx)("span",{children:"Copyleft with credits"})}),Object(u.jsx)(D.a,{className:n,children:Object(u.jsxs)("span",{children:["This site is licensed under a"," ",Object(u.jsx)(jn.a,{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",children:"Creative Commons Attribution 4.0 International License"}),". ",Object(u.jsx)("br",{}),"The"," ",Object(u.jsx)(jn.a,{href:"https://p2pmodels.eu",target:"_blank",children:"P2P Models"})," ","project has been funded by a European Research Council Grant."]})})]})]})})}var yn=t(548),Nn="#ffc2c8",Cn="#FF5769",Tn="#561314",Sn="#ACB0B3",Rn="#545454",kn="#474955",zn=Object(yn.a)({palette:{primary:{dark:Tn,main:Cn,light:Nn},secondary:{main:kn},text:{dark:kn,main:Rn,light:"#fff",secondary:Sn},error:{dark:Tn,main:Cn,light:Nn},success:{main:"#32B056"}},typography:{fontsize:"16px",h1:{fontSize:"1.5rem",fontWeight:"800"},h2:{fontSize:"1.4rem",fontWeight:"500"},h3:{fontSize:"1.25rem",fontWeight:"400"},h4:{fontSize:"1rem",fontWeight:"400"},h5:{fontSize:"1rem",fontWeight:"400"},h6:{fontSize:"1rem",fontWeight:"400"}},spacing:16,mixins:{toolbar:{minHeight:"116px"}}});var An=function(){var e=Object(n.useState)(!0),a=Object(s.a)(e,2),t=(a[0],a[1]);return"false"==localStorage.getItem("notDone")?localStorage.setItem("notDone","false"):localStorage.setItem("notDone","true"),Object(u.jsx)(g,{children:Object(u.jsx)(f,{children:Object(u.jsx)(S,{children:Object(u.jsx)(l.a,{children:Object(u.jsxs)(b.a,{theme:zn,children:[Object(u.jsx)(On,{}),Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{exact:!0,path:"/",children:Object(u.jsxs)("div",{className:"demo-wrapper",children:[Object(u.jsx)(m.b,{continuous:!0,callback:function(e){var a=e.status;([m.a.FINISHED].includes(a)||[m.a.SKIPPED].includes(a))&&(localStorage.setItem("notDone","false"),t(!1))},scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,run:"true"==localStorage.getItem("notDone"),steps:j,styles:{options:{zIndex:1e4},buttonClose:{display:"none"}}}),Object(u.jsx)(ja,{})]})}),Object(u.jsx)(d.b,{exact:!0,path:"/info",children:Object(u.jsx)(Tt,{})}),Object(u.jsx)(d.b,{exact:!0,path:"/report",children:Object(u.jsx)(dn,{})}),Object(u.jsx)(d.b,{exact:!0,path:"/confirmation",render:function(e){return Object(u.jsx)(Ut,Object(c.a)({},e))}}),Object(u.jsx)(d.b,{exact:!0,path:"/admin",children:Object(u.jsx)(Nt,{})})]}),Object(u.jsx)(vn,{})]})})})})})},wn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,1065)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,i=a.getLCP,o=a.getTTFB;t(e),n(e),r(e),i(e),o(e)}))};t(933),t(934),t(935);o.a.render(Object(u.jsx)(An,{}),document.getElementById("root")),wn()}},[[936,1,2]]]);
//# sourceMappingURL=main.cd3ed271.chunk.js.map